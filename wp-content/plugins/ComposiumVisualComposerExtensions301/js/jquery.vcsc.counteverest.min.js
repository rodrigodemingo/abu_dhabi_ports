!function(e){function t(t,r){this.element=t,this.settings=e.extend({},n,r),this._defaults=n,this._name=i,this._serverDate=null,this._javaScriptDate=null,this.currentDate=null,this.targetDate=null,this.days=null,this.hours=null,this.minutes=null,this.seconds=null,this.deciseconds=null,this.milliseconds=null,this.daysLabel=null,this.hoursLabel=null,this.minutesLabel=null,this.secondsLabel=null,this.decisecondsLabel=null,this.millisecondsLabel=null,this._intervalId=null,this._wrapsExists={},this._oldValues={},this._changed=!1,this.init()}var i="countEverest",n={day:1,month:1,year:2050,hour:0,minute:0,second:0,millisecond:0,timeZone:!1,daysWrapper:".ce-days",hoursWrapper:".ce-hours",minutesWrapper:".ce-minutes",secondsWrapper:".ce-seconds",decisecondsWrapper:".ce-dseconds",millisecondsWrapper:".ce-mseconds",daysLabelWrapper:".ce-days-label",hoursLabelWrapper:".ce-hours-label",minutesLabelWrapper:".ce-minutes-label",secondsLabelWrapper:".ce-seconds-label",decisecondsLabelWrapper:".ce-dseconds-label",millisecondsLabelWrapper:".ce-mseconds-label",daysLabel:"Days",dayLabel:"Day",hoursLabel:"Hours",hourLabel:"Hour",minutesLabel:"Minutes",minuteLabel:"Minute",secondsLabel:"Seconds",secondLabel:"Second",decisecondsLabel:"Deciseconds",decisecondLabel:"Decisecond",millisecondsLabel:"Milliseconds",millisecondLabel:"Millisecond",timeout:1e3,highspeedTimeout:4,leftHandZeros:!0,wrapDigits:!0,wrapDigitsTag:"span",dayInMilliseconds:864e5,hourInMilliseconds:36e5,minuteInMilliseconds:6e4,secondInMilliseconds:1e3,decisecondInMilliseconds:100,onInit:null,beforeCalculation:null,afterCalculation:null,onCalculation:null,onChange:null,onComplete:null};t.prototype={init:function(){var t=this,i=t.element,n=t.settings;(e(i).find(n.decisecondsWrapper).length>0||e(i).find(n.millisecondsWrapper).length>0)&&(n.timeout=n.highspeedTimeout),e.isFunction(n.onInit)&&n.onInit.call(t),t._intervalId=setInterval(function(){t.calculate()},n.timeout),t.calculate()},calculate:function(){var t=this,i=t.settings,n=i.dayInMilliseconds,r=i.hourInMilliseconds,a=i.minuteInMilliseconds,o=i.secondInMilliseconds,s=i.decisecondInMilliseconds,l=!1;t.setTargetDate(new Date(i.year,i.month-1,i.day,i.hour,i.minute,i.second));var c=t.getCurrentDate(),u=t.getTargetDate(),d=c.getTime(),h=i.timeZone===!1?0:(u.getTimezoneOffset()/60+i.timeZone)*i.hourInMilliseconds,p=u.getTime()-h,y=p-d,m=y;e.isFunction(i.beforeCalculation)&&i.beforeCalculation.call(t),t._changed=!1;var f=Math.floor(m/n);m%=n;var g=Math.floor(m/r);m%=r;var v=Math.floor(m/a);m%=a;var b=Math.floor(m/o),w=m%o,j=Math.floor(w/s);f=t.naturalNum(f),g=t.naturalNum(g),v=t.naturalNum(v),b=t.naturalNum(b),w=t.naturalNum(w),j=t.naturalNum(j),t.days=f,t.hours=g,t.minutes=v,t.seconds=b,t.milliseconds=w,t.deciseconds=j,t.format(),t.output(),Math.floor(y/i.timeout)<=0&&(l=!0,(null!=i.millisecondsWrapper||null!=i.decisecondsWrapper)&&(l=0>=y?!0:!1)),1==l&&(e.isFunction(i.onComplete)&&i.onComplete.call(t),clearInterval(t._intervalId)),e.isFunction(i.onCalculation)&&i.onCalculation.call(t),e.isFunction(i.afterCalculation)&&i.afterCalculation.call(t)},format:function(){var e=this,t=e.settings,i=e.days,n=e.hours,r=e.minutes,a=e.seconds,o=e.deciseconds,s=e.milliseconds,l=t.dayLabel,c=t.hourLabel,u=t.minuteLabel,d=t.secondLabel,h=t.decisecondLabel,p=t.millisecondsLabel;1==t.leftHandZeros&&(e.days=e.strPad(i,2),e.hours=e.strPad(n,2),e.minutes=e.strPad(r,2),e.seconds=e.strPad(a,2),e.milliseconds=e.strPad(s,3)),e.daysLabel=1==i&&null!==l?l:t.daysLabel,e.hoursLabel=1==n&&null!==c?c:t.hoursLabel,e.minutesLabel=1==r&&null!==u?u:t.minutesLabel,e.secondsLabel=1==a&&null!==d?d:t.secondsLabel,e.decisecondsLabel=1==o&&null!==h?h:t.decisecondsLabel,e.millisecondsLabel=1==s&&null!==p?p:t.millisecondsLabel},output:function(){var t=this,i=t.settings;t.writeLabelToDom(i.daysLabelWrapper,t.daysLabel),t.writeLabelToDom(i.hoursLabelWrapper,t.hoursLabel),t.writeLabelToDom(i.minutesLabelWrapper,t.minutesLabel),t.writeLabelToDom(i.secondsLabelWrapper,t.secondsLabel),t.writeLabelToDom(i.decisecondsLabelWrapper,t.decisecondsLabel),t.writeLabelToDom(i.millisecondsLabelWrapper,t.millisecondsLabel),t.writeDigitsToDom(i.daysWrapper,t.days,"ce-days-digit"),t.writeDigitsToDom(i.hoursWrapper,t.hours,"ce-hours-digit"),t.writeDigitsToDom(i.minutesWrapper,t.minutes,"ce-minutes-digit"),t.writeDigitsToDom(i.secondsWrapper,t.seconds,"ce-seconds-digit"),t.writeDigitsToDom(i.decisecondsWrapper,t.deciseconds,"ce-dseconds-digit"),t.writeDigitsToDom(i.millisecondsWrapper,t.milliseconds,"ce-mseconds-digit"),e.isFunction(i.onChange)&&1==t._changed&&i.onChange.call(t)},pause:function(){var e=this,t=e._intervalId;t&&clearInterval(t)},resume:function(){var e=this,t=e.settings;e._intervalId=setInterval(function(){e.calculate()},t.timeout)},destroy:function(){var t=this,i=t._intervalId;e(t.element),i&&clearInterval(i)},getOption:function(e){return this.settings[e]},setOption:function(e,t){this.settings[e]=t},setTargetDate:function(e){this.targetDate=e},getTargetDate:function(){return this.targetDate},setCurrentDate:function(e){this.currentDate=e},getCurrentDate:function(){return new Date},getOptions:function(){return this.settings},naturalNum:function(e){return 0>e?0:e},strPad:function(e,t,i){var n=e.toString();for(i||(i="0");n.length<t;)n=i+n;return n},writeLabelToDom:function(t,i){var n=this,r=e(n.element);null==n._wrapsExists[t]&&(n._wrapsExists[t]=r.find(t).length>0?!0:!1),n._oldValues[t]!=i&&n._wrapsExists[t]&&(n._oldValues[t]=i,r.find(t).text(i),n._changed=!0)},writeDigitsToDom:function(t,i,n){var r,a,o=this,s=o.settings,l=s.wrapDigitsTag,c=e(o.element),u=c.find(t),i=i.toString(),d=[];if(null==o._wrapsExists[t]&&(o._wrapsExists[t]=u.length>0?!0:!1),0==o._wrapsExists[t])return!1;if(1==s.wrapDigits)for(var h=0;h<i.length;h++)d[h]=i[h];else d[0]=i;if("undefined"==typeof o._oldValues[t]&&(o._oldValues[t]=[]),o._oldValues[t].length>d.length){a=o._oldValues[t].length-d.length,r=u.find(l),r.slice(0,a).remove(),r=u.find(l);for(var h=0;h<d.length;h++)r.eq(h).addClass("test").text(d[h]);o._changed=!0}if(o._oldValues[t].length<d.length){if(0==s.wrapDigits)u.text(d[0]);else{0==o._oldValues[t].length&&u.text("");for(var p="",h=0;h<d.length;h++)a=d.length-o._oldValues[t].length,a>h?p+="<"+l+' class="'+n+'">'+d[h]+"</"+l+">":(r=u.find(l),r.eq(h-a).text(d[h]));u.prepend(p)}o._changed=!0}if(o._oldValues[t].length==d.length)if(0==s.wrapDigits)o._oldValues[t][0]!=d[0]&&(u.text(d[0]),o._changed=!0);else for(var h=0;h<d.length;h++)o._oldValues[t][h]!=d[h]&&(r=u.find(l),r.eq(h).text(d[h]),o._changed=!0);o._oldValues[t]=[];for(var h=0;h<d.length;h++)o._oldValues[t][h]=d[h]}},e.fn[i]=function(n,r,a){var o=null,s=this.each(function(){var s="plugin_",l=null;if(e.data(this,s+i)){if(l=e.data(this,s+i),"destroy"===n)return l.destroy(),e.data(this,s+i,null),void 0;var c=l[n];return"function"==typeof c&&(o=c.call(l,r,a)),!1}l=new t(this,n),e.data(this,s+i,l)});return o?o:s}}(jQuery,window,document);