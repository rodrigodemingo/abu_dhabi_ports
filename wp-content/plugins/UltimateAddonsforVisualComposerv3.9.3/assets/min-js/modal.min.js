!function(e){function t(e){var t="div.ult-overlay."+e;joverlay=document.querySelector(t),i=jQuery(t);var a=i.find(".ult_modal").outerHeight(),o=jQuery(window).outerHeight();if(a>o&&jQuery("html").css({overflow:"hidden"}),i.hasClass("ult-open")){i.removeClass("ult-open"),i.addClass("ult-close");var r=function(e){if(support.transitions){if("visibility"!==e.propertyName)return;this.removeEventListener(transEndEventName,r)}i.removeClass("ult-close")};support.transitions?(joverlay.addEventListener(transEndEventName,r),i.removeClass("ult-close"),a>o&&jQuery("html").css({overflow:"auto"})):r()}else i.hasClass("ult-close")||i.addClass("ult-open")}function a(e){var t="div.overlay-cornershape."+e,a=document.querySelector(t),o=jQuery(t),r=Snap(a.querySelector("svg")),s=r.select("path"),n={from:"m 0,0 1439.999975,0 0,805.99999 0,-805.99999 z ",to:" m 0,0 1439.999975,0 0,805.99999 -1439.999975,0 z  "};if(o.hasClass("ult-open")){o.removeClass("ult-open"),o.addClass("ult-close");var l=function(){o.removeClass("ult-close")};s.animate({path:n.from},400,mina.linear,l)}else o.hasClass("ult-close")||(o.addClass("ult-open"),s.animate({path:n.to},400,mina.linear))}function o(e){var t="div.overlay-genie."+e,a=document.querySelector(t),o=jQuery(t),r=Snap(a.querySelector("svg")),s=r.select("path"),n=a.getAttribute("data-steps").split(";"),l=n.length;if(o.hasClass("ult-open")){var i=l-1;o.removeClass("ult-open"),o.addClass("ult-close");var u=function(){o.removeClass("ult-close")},d=function(e){e--,0>e||s.animate({path:n[e]},60,mina.linear,function(){0===e&&u(),d(e)})};d(i)}else if(!o.hasClass("ult-close")){var i=0;o.addClass("ult-open");var d=function(e){e++,e>l-1||s.animate({path:n[e]},60,mina.linear,function(){d(e)})};d(i)}}function r(e){for(var t,a,o=e.length;0!==o;)a=Math.floor(Math.random()*o),o-=1,t=e[o],e[o]=e[a],e[a]=t;return e}function s(e){var t="div.overlay-boxes."+e,a=document.querySelector(t),o=jQuery(t),s=[].slice.call(a.querySelectorAll("svg > path")),n=s.length,l=0;r(s),o.hasClass("ult-open")?(o.removeClass("ult-open"),o.addClass("ult-close"),s.forEach(function(e,t){setTimeout(function(){++l,e.style.display="none",l===n&&o.removeClass("ult-close")},30*t)})):o.hasClass("ult-close")||(o.addClass("ult-open"),s.forEach(function(e,t){setTimeout(function(){e.style.display="block"},30*t)}))}function n(e){var t=jQuery("."+e).find(".ult_modal-content").height(),a=jQuery(window).height();t>a?jQuery("."+e).addClass("ult_modal-auto-top"):jQuery("."+e).removeClass("ult_modal-auto-top"),jQuery("."+e).find("iframe")&&jQuery("."+e).find("iframe").attr("src",jQuery("."+e).find("iframe").attr("src")),jQuery(document).trigger("onUVCModalPopupOpen")}function l(){e(".ult_modal-body iframe").each(function(){var t=e(this).parent().width(),a=(e(this).parent().parent().parent().hasClass("ult-small")?!0:!1,e(this).parent().parent().parent().hasClass("ult-medium")?!0:!1,e(this).parent().parent().parent().hasClass("ult-container")?!0:!1),o=e(this).parent().parent().parent().hasClass("ult-block")?!0:!1,r=t/10,s=t*(9/16)+r;if(a){var n=e(window).height();s>n&&(s=n-100)}o&&(t=e(this).attr("width"),s=e(this).attr("height"),("undefined"==typeof t||""==t)&&(t=640),("undefined"==typeof s||""==s)&&(s=360)),e(this).css({width:t+"px",height:s+"px"})})}{var i=(document.getElementsByClassName("overlay-show"),document.querySelector("div.ult-overlay"));i.querySelector("div.ult-overlay-close")}transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},transEndEventName=transEndEventNames[bsfmodernizr.prefixed("transition")],support={transitions:bsfmodernizr.csstransitions};jQuery(".overlay-show-cornershape").find("path").attr("d");jQuery(window).load(function(){var e=new Array;jQuery(".ult-onload").each(function(t){e.push(jQuery(this)),setTimeout(function(){e[t].trigger("click")},1e3*parseInt(jQuery(this).data("onload-delay")))}),jQuery(".ult-vimeo iframe").each(function(){var e=(jQuery(this).attr("id"),jQuery(this)[0]),t=$f(e);t.addEvent("ready",function(){t.addEvent("pause"),t.addEvent("finish")})})}),jQuery(document).ready(function(){jQuery(".ult-overlay").each(function(){jQuery(this).appendTo(document.body)}),jQuery(".ult-overlay").show(),jQuery(".overlay-show").each(function(){var e=jQuery(this).data("class-id");jQuery("."+e).find(".ult-vimeo iframe").attr("id","video_"+e),jQuery("."+e).find(".ult-youtube iframe").attr("id","video_"+e)});jQuery(".overlay-show").click(function(e){e.stopPropagation();var a=jQuery(this).data("class-id");jQuery("."+a).find(".ult_modal-content").removeClass("ult-hide"),jQuery("."+a).find(".ult-vimeo iframe").html(jQuery(".ult-vimeo iframe").html()),jQuery("."+a).addClass(jQuery(this).data("overlay-class")),setTimeout(function(){jQuery("body, html").addClass("ult_modal-body-open"),t(a),jQuery("."+a).hasClass("overlay-doorhorizontal")?setTimeout(function(){n(a)},500):n(a)},500)}),jQuery(".overlay-show-cornershape").click(function(e){e.stopPropagation();var t=jQuery(this).data("class-id");jQuery("."+t).addClass("overlay-cornershape"),a(t),jQuery("body, html").addClass("ult_modal-body-open"),n(t)}),jQuery("div.overlay-cornershape div.ult-overlay-close").click(function(e){e.stopPropagation();var t=jQuery(this).parents("div.overlay-cornershape").data("class");a(t),jQuery("body, html").removeClass("ult_modal-body-open"),jQuery("html").css({overflow:"auto"})}),jQuery(".overlay-show-boxes").click(function(e){e.stopPropagation();var t=jQuery(this).data("class-id");jQuery("."+t).addClass("overlay-boxes"),s(t),jQuery("body, html").addClass("ult_modal-body-open"),n(t)}),jQuery("div.overlay-boxes div.ult-overlay-close").click(function(e){e.stopPropagation();var t=jQuery(this).parents("div.overlay-boxes").data("class");s(t),jQuery("body, html").removeClass("ult_modal-body-open"),jQuery("html").css({overflow:"auto"})}),jQuery(".overlay-show-genie").click(function(){var e=jQuery(this).data("class-id");jQuery("."+e).addClass("overlay-genie"),o(e),jQuery("body, html").addClass("ult_modal-body-open"),n(e),jQuery("html").css({overflow:"auto"})}),jQuery("div.overlay-genie div.ult-overlay-close").click(function(e){e.stopPropagation();var t=jQuery(this).parents("div.overlay-genie").data("class");o(t),jQuery("body, html").removeClass("ult_modal-body-open"),jQuery("html").css({overflow:"auto"})}),jQuery(".ult-overlay .ult-overlay-close").click(function(e){e.stopPropagation();var a=jQuery(this).parents(".ult-overlay").data("class");if(t(a),jQuery("body, html").removeClass("ult_modal-body-open"),jQuery(this).parent().find(".ult-vimeo").length){var o=jQuery(this).parent().find(".ult-vimeo iframe"),r=o.attr("src");jQuery(this).parent().find(".ult-vimeo iframe").attr("src",""),jQuery(this).parent().find(".ult-vimeo iframe").attr("src",r);var s=o[0],n=$f(s);n.api("pause")}else{var r=jQuery(this).parent().find(".ult-youtube iframe").attr("src");jQuery(this).parent().find(".ult-youtube iframe").attr("src",""),jQuery(this).parent().find(".ult-youtube iframe").attr("src",r)}jQuery("html").css({overflow:"auto"})}),jQuery(".ult-overlay .ult_modal").click(function(e){e.stopPropagation()}),jQuery(".ult-overlay").click(function(e){e.stopPropagation(),jQuery(this).find(".ult-overlay-close").trigger("click"),jQuery("html").css({overflow:"auto"})})}),e(document).on("onUVCModalPopupOpen",function(){l()}),e(window).resize(function(){l()})}(jQuery);